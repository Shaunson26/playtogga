source("playtogga/Functions/.")
setwd("C:/Users/Shaunus/Desktop/Togga/")
setwd("C:/Users/Shaunus/Desktop/Togga/playtogga/Functions/")
source(list.files())
list.files()
setwd("C:/Users/Shaunus/Desktop/Togga/playtogga/Functions/")
file.sources = list.files(pattern="*.R")
sapply(data.sources,load,.GlobalEnv)
sapply(file.sources, load, .GlobalEnv)
file.sources = list.files(pattern = "*.R")
sapply(file.sources, source, .GlobalEnv)
setwd("C:/Users/Shaunus/Desktop/Togga/playtogga/Functions/")
for (f in list.files(pattern="*.R")) {
source(f)
}
setwd("C:/Users/Shaunus/Desktop/Togga/PlayerHTMLs")
myFiles = list.files()
allPlayerList = getIndividualPlayerTables(myFiles)
allPlayerWk2 = lapply(allPlayerList, function(x) x[1:2,])
playersWanted = row.names(do.call(rbind, lapply(allPlayerList, function(x) grep("@CRY", x[1:2,2]))))
pW2 = allPlayerWk2[ playersWanted ]
pW2Glms = fitAllStatPoissonGLMs(pW2)
names(pW2Glms)
playerNames = names(pW2Glms)
plotDistributions <- function(myFit, main = NULL...){
require(lattice)
datIn = t(do.call(rbind, lapply(myFit, function(x) x$outPcnt)))
datInStack = stack(as.data.frame(datIn))
datInStack$hits = as.numeric(row.names(datIn))
barchart(values ~ hits | ind, data = datInStack,
main = main, xlab = "Variables", ylab = "% likelihood",
layout = c(6,3), between = list(x = 0.5, y = 0.5),
scales = list(alternating = F, x = list(rot = 90)),
horizontal = F)
}
for(i in 1:length(playerNames)){
plotDistributions(pW2Glms[[i]], main = playerNames[i])
}
plotDistributions <- function(myFit, main = NULL...){
require(lattice)
datIn = t(do.call(rbind, lapply(myFit, function(x) x$outPcnt)))
datInStack = stack(as.data.frame(datIn))
datInStack$hits = as.numeric(row.names(datIn))
print(
barchart(values ~ hits | ind, data = datInStack,
main = main, xlab = "Variables", ylab = "% likelihood",
layout = c(6,3), between = list(x = 0.5, y = 0.5),
scales = list(alternating = F, x = list(rot = 90)),
horizontal = F)
)
}
for(i in 1:length(playerNames)){
plotDistributions(pW2Glms[[i]], main = playerNames[i])
}
plotAllPlayerDistributions <- function(allPlayerGLMs){
playerNames = names(allPlayerGLMs)
for(i in 1:length(playerNames)){
plotDistributions(pW2Glms[[i]], main = playerNames[i])
}
}
plotDistributions <- function(myFit, main = NULL...){
require(lattice)
datIn = t(do.call(rbind, lapply(myFit, function(x) x$outPcnt)))
datInStack = stack(as.data.frame(datIn))
datInStack$hits = as.numeric(row.names(datIn))
print(
barchart(values ~ hits | ind, data = datInStack,
main = main, xlab = "Variables", ylab = "% likelihood",
layout = c(6,3), between = list(x = 0.5, y = 0.5),
scales = list(alternating = F, x = list(rot = 90)),
horizontal = F)
)
}
rm(playerNames)
plotAllPlayerDistributions(pW2Glms)
for (f in list.files(pattern="*.R")) {
source(f)
}
setwd("C:/Users/Shaunus/Desktop/Togga/playtogga/Functions/")
for (f in list.files(pattern="*.R")) {
source(f)
}
plotAllPlayerDistributions(pW2Glms)
